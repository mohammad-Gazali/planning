{% extends "base.html" %}

{% block title %}مشاريع ({{ project_type }}){% endblock title %}

{% block content %}
  <section class="max-w-screen-xl w-full p-4 mx-auto mt-10">
    <h3 class="text-center lg:text-2xl sm:text-xl text-lg font-bold">
      مشاريع <span class="text-blue-500 dark:text-blue-400">( {{ project_type }} )</span>
    </h3>
    <!-- table -->
    <div class="overflow-x-auto mt-4 mb-8">
      <table class="min-w-full whitespace-nowrap text-center text-sm divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="font-bold dark:text-white">
          <tr>
            <th class="px-6 py-3">رقم المشروع</th>
            <th class="px-6 py-3">اسم المشروع</th>
            <th class="px-6 py-3">نوع المشروع</th>
            <th class="px-6 py-3">جنس المشروع</th>
            <th class="px-6 py-3">إجمالي الفصول</th>
            <th class="px-6 py-3">سعة المشروع</th>
            <th class="px-6 py-3">نسبة الإنجاز</th>
            <th class="px-6 py-3">المكتب</th>
            <th class="px-6 py-3">موقع المشروع</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200 dark:divide-gray-700 text-sm text-gray-800 dark:text-gray-200 font-medium">
          {% for project in projects %}
            <tr class="odd:bg-white even:bg-gray-100 dark:odd:bg-slate-900 dark:even:bg-slate-800">
              <th class="px-6 py-4">{{ project.project_number }}</th>
              <td class="px-6 py-4">{{ project.project_name }}</td>
              <td class="px-6 py-4">{{ project.project_type }}</td>
              <td class="px-6 py-4">{{ project.project_gender }}</td>
              <td class="px-6 py-4">{{ project.project_class_count }}</td>
              <td class="px-6 py-4">{{ project.project_capacity }}</td>
              <td class="px-6 py-4">
                <div class="flex w-full min-w-[300px] h-4 bg-gray-200 rounded-full overflow-hidden dark:bg-gray-700">
                  <div class="flex flex-col justify-center overflow-hidden bg-blue-500 text-xs text-white text-center" role="progressbar" style="width: {{ project.project_completion_rate }}%" aria-valuenow="{{ project.project_completion_rate }}" aria-valuemin="0" aria-valuemax="100">{{ project.project_completion_rate }}%</div>
                </div>
              </td>
              <td class="px-6 py-4">{{ project.project_office }}</td>
              <td class="px-6 py-4">
                <a class="text-blue-500 hover:text-blue-700 underline-offset-4 hover:underline" href="{{ project.project_location }}" target="_blank">
                  موقع المشروع
                </a>
              </td>
            </tr>
          {% endfor%}
        </tbody>
      </table>
    </div>
  </section>
{% endblock content %}